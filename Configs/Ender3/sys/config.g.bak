	; Configuration file for Duet WiFi (firmware version 1.21)
; executed by the firmware on start-up
;
; generated by RepRapFirmware Configuration Tool v2 on Thu Jan 17 2019 20:56:51 GMT+0100 (hora estándar de Europa central)

; General preferences
G90                                                ; Send absolute coordinates...
M83                                                ; ...but relative extruder moves
M555 P1                                            ; Set firmware compatibility to look like RepRapFirmare

; Network
M550 P"Ender_3"                                    ; Set machine name
M551 P"pandora00"				   ; Set password
M552 S1                                            ; Enable network
;M587 S"kapawireless2G" P"P@ndora00"                ; Configure access point. You can delete this line once connected
;M587 S"iPhone Miguel" P"Pandora00"                ; Configure access point. You can delete this line once connected
M586 P0 S1                                         ; Enable HTTP
M586 P1 S0                                         ; Disable FTP
M586 P2 S0                                         ; Disable Telnet

; Drives
M569 P0 S0                                         ; Drive 0 goes backwards
M569 P1 S0                                         ; Drive 1 goes backwards
M569 P2 S1                                         ; Drive 2 goes forwards
M569 P3 S1                                         ; Drive 3 goes forwards
M350 X256 Y256 Z256 E16 I0                        ; Configure microstepping with interpolation
M92 X1280 Y1280 Z6400 E411                	   ; Set steps per mm
M566 X480.00 Y480.00 Z24.00 E90.00                ; Set maximum instantaneous speed changes (mm/min) JERkS
M203 X12000.00 Y12000.00 Z1500.00 E7200.00          ; Set maximum speeds (mm/min)
M201 X1200.00 Y1200.00 Z1200.00 E5000.00            ; Set accelerations (mm/s^2)
M906 X750.00 Y750.00 Z750.00 E700.00 I30           ; Set motor currents (mA) and motor idle factor in per cent
M84 S30                                            ; Set idle timeout

; Axis Limits
M208 X0 Y0 Z0 S1                                   ; Set axis minima
M208 X228 Y226 Z208 S0                             ; Set axis maxima fuerzo Z mas pequeña por precaucion, se puede mas


; Endstops
M574 X1 Y1 S1                                       ; Set active high endstops  ;S3 for motor load  
M574 Z1 S1                                    	    ; Define Z to use Probe. Home to Min

; Z-Probe (sin BLTouch)
;M558 P0 H5 F120 T6000                              ; Disable Z probe but set dive height, probe speed and travel speed
;M557 X30:200 Y40:200 S30

; Z-PROBE (de la de la espumita, calibrar EN FRIO O SE DERRITE))
M558 P5 H3 I1 F120 T6000 A3 S0.02                       ; Set Z probe type to switch and the dive height + speeds
G31 P1000 X0 Y0 Z0.1                                ; Set Z probe trigger value, offset and trigger height
;M557 X30:215 Y30:215 S46,25		            ; Define mesh grid 5x5
M557 X30:215 Y30:215 S37			    ; Define mesh grid 6x6		


; Z-Probe (con BLTouch)
;M307 H3 A-1 C-1 D-1                                 ; Disable heater on PWM channel for BLTouch
;M558 P9 H5 F100 T6000 Z1                            ; Set Z probe type to bltouch and the dive height + speeds
;G31 P500 X-50 Y-16 Z0.6                             ; Set Z probe trigger value, offset and trigger height
;M557 X19:190 Y19:214 S50			     ; Define mesh grid														

; Heaters
;M305 P0 T100000 B4138 R4700                        	; Set thermistor + ADC parameters for heater 0
M305 P0 T100000 B3950 R4700 				; set bed thermistor parameters chinese typical
M143 H0 S110                                       	; Set temperature limit for heater 0 to 100C
;M305 P1 T100000 B4138 R4700                        	; Set thermistor + ADC parameters for heater 1 ---STOCK---
M305 P1 T100000 B4725 C7.060000e-8 R4700		; Set thermistor + ADC parameters for heater 1 ---V6--- SANTI
M143 H1 S280                                       	; Set temperature limit for heater 1 to 280C all metal

; Fans
M106 P0 S0 I0 F500 H-1                             ; Set fan 0 value, PWM signal inversion and frequency. Thermostatic control is turned off
M106 P1 S1 I0 F500 H1 T45                          ; Set fan 1 value, PWM signal inversion and frequency. Thermostatic control is turned on
;M106 P2 S1 I0 F500 H1 T45                          ; Set fan 2 value, PWM signal inversion and frequency. Thermostatic control is turned on

; Tools
M563 P0 D0 H1                                      ; Define tool 0
G10 P0 X0 Y0 Z0                                    ; Set tool 0 axis offsets
G10 P0 R0 S0                                       ; Set initial tool 0 active and standby temperatures to 0C
T0							;Select the first HEAD

;PID Settings PLA 60-190
M307 H0 A279.8 C665.7 D2.6 S1.00 V24.0 B0
M307 H1 A847.4 C279.8 D5.0 S1.00 V24.1 B0

; FW Retracion
M207 S1.7 F2400 Z0.3					;FW Retraction

; Automatic power saving
M911 S10 R11 P"M913 X0 Y0 G91 M83 G1 Z3 E-5 F1000" ; Set voltage thresholds and actions to run on power loss



; Custom settings are not configured
M912 P0 S-6.7 						; MCU calibration
M501 							;Loads config-override.g
M572 D0 S0.06 						; Presure Advance
;M592 D0 A0.0011901457064101 B0.00491323213970553	;nozzle 0.4
M592 D0 A-0.00297617758086762 B0.00106064100865492	;nozzle 0.5
						
M593 F12						; DAA 
M579 X1.01010101010101 Y1.01010101010101		; Scale Cartesian axes



;G29 S1


